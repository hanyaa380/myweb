var e=Object.defineProperty,t=(t,n,i)=>(((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"symbol"!=typeof n?n+"":n,i),i);function n(e){if(f(e)){const t={};for(let i=0;i<e.length;i++){const s=e[i],r=g(s)?o(s):n(s);if(r)for(const e in r)t[e]=r[e]}return t}return g(e)||v(e)?e:void 0}const i=/;(?![^(]*\))/g,s=/:(.+)/;function o(e){const t={};return e.split(i).forEach((e=>{if(e){const n=e.split(s);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function r(e){let t="";if(g(e))t=e;else if(f(e))for(let n=0;n<e.length;n++){const i=r(e[n]);i&&(t+=i+" ")}else if(v(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function c(e,t){if(e===t)return!0;let n=p(e),i=p(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=f(e),i=f(t),n||i)return!(!n||!i)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=c(e[i],t[i]);return n}(e,t);if(n=v(e),i=v(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),s=t.hasOwnProperty(n);if(i&&!s||!i&&s||!c(e[n],t[n]))return!1}}return String(e)===String(t)}function l(e,t){return e.findIndex((e=>c(e,t)))}const a=Object.assign,u=Object.prototype.hasOwnProperty,d=(e,t)=>u.call(e,t),f=Array.isArray,h=e=>"[object Map]"===w(e),p=e=>e instanceof Date,g=e=>"string"==typeof e,m=e=>"symbol"==typeof e,v=e=>null!==e&&"object"==typeof e,y=Object.prototype.toString,w=e=>y.call(e),b=e=>w(e).slice(8,-1),S=e=>g(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,P=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},x=/-(\w)/g,I=P((e=>e.replace(x,((e,t)=>t?t.toUpperCase():"")))),_=/\B([A-Z])/g,k=P((e=>e.replace(_,"-$1").toLowerCase())),L=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let O;function C(e,t){(t=t||O)&&t.active&&t.effects.push(e)}const M=e=>{const t=new Set(e);return t.w=0,t.n=0,t},T=e=>(e.w&A)>0,E=e=>(e.n&A)>0,$=new WeakMap;let j=0,A=1;const N=30,R=[];let W;const B=Symbol(""),H=Symbol("");class V{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],C(this,n)}run(){if(!this.active)return this.fn();if(!R.includes(this))try{return R.push(W=this),F.push(z),z=!0,A=1<<++j,j<=N?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=A})(this):D(this),this.fn()}finally{j<=N&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];T(s)&&!E(s)?s.delete(e):t[n++]=s,s.w&=~A,s.n&=~A}t.length=n}})(this),A=1<<--j,q(),R.pop();const e=R.length;W=e>0?R[e-1]:void 0}}stop(){this.active&&(D(this),this.onStop&&this.onStop(),this.active=!1)}}function D(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function U(e){e.effect.stop()}let z=!0;const F=[];function q(){const e=F.pop();z=void 0===e||e}function K(e,t,n){if(!z||void 0===W)return;let i=$.get(e);i||$.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=M()),function(e,t){let n=!1;j<=N?E(e)||(e.n|=A,n=!T(e)):n=!e.has(W),n&&(e.add(W),W.deps.push(e))}(s)}function X(e,t,n,i,s,o){const r=$.get(e);if(!r)return;let c=[];if("clear"===t)c=[...r.values()];else if("length"===n&&f(e))r.forEach(((e,t)=>{("length"===t||t>=i)&&c.push(e)}));else switch(void 0!==n&&c.push(r.get(n)),t){case"add":f(e)?S(n)&&c.push(r.get("length")):(c.push(r.get(B)),h(e)&&c.push(r.get(H)));break;case"delete":f(e)||(c.push(r.get(B)),h(e)&&c.push(r.get(H)));break;case"set":h(e)&&c.push(r.get(B))}if(1===c.length)c[0]&&Z(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);Z(M(e))}}function Z(e,t){for(const t of f(e)?e:[...e])(t!==W||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const J=function(e,t){const n=Object.create(null),i=e.split(",");for(let e=0;e<i.length;e++)n[i[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}("__proto__,__v_isRef,__isVue"),Q=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(m)),Y=te(),G=te(!0),ee=function(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=ue(this);for(let e=0,t=this.length;e<t;e++)K(n,0,e+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(ue)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){F.push(z),z=!1;const n=ue(this)[t].apply(this,e);return q(),n}})),e}();function te(e=!1,t=!1){return function(n,i,s){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&s===(e?t?ce:re:t?oe:se).get(n))return n;const o=f(n);if(!e&&o&&d(ee,i))return Reflect.get(ee,i,s);const r=Reflect.get(n,i,s);return(m(i)?Q.has(i):J(i))||(e||K(n,0,i),t)?r:de(r)?o&&S(i)?r:r.value:v(r)?e?function(e){return ae(e,!0,ie,null,re)}(r):le(r):r}}const ne={get:Y,set:function(e=!1){return function(t,n,i,s){let o=t[n];if(!e&&!function(e){return!(!e||!e.__v_isReadonly)}(i)&&(i=ue(i),o=ue(o),!f(t)&&de(o)&&!de(i)))return o.value=i,!0;const r=f(t)&&S(n)?Number(n)<t.length:d(t,n),c=Reflect.set(t,n,i,s);return t===ue(s)&&(r?((e,t)=>!Object.is(e,t))(i,o)&&X(t,"set",n,i):X(t,"add",n,i)),c}}(),deleteProperty:function(e,t){const n=d(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&X(e,"delete",t,void 0),i},has:function(e,t){const n=Reflect.has(e,t);return(!m(t)||!Q.has(t))&&K(e,0,t),n},ownKeys:function(e){return K(e,0,f(e)?"length":B),Reflect.ownKeys(e)}},ie={get:G,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},se=new WeakMap,oe=new WeakMap,re=new WeakMap,ce=new WeakMap;function le(e){return e&&e.__v_isReadonly?e:ae(e,!1,ne,null,se)}function ae(e,t,n,i,s){if(!v(e)||e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const r=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(b(e))}(e);if(0===r)return e;const c=new Proxy(e,2===r?i:n);return s.set(e,c),c}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function de(e){return Boolean(e&&!0===e.__v_isRef)}Promise.resolve();let fe=!1;const he=[],pe=Promise.resolve(),ge=e=>pe.then(e),me=e=>{he.includes(e)||he.push(e),fe||(fe=!0,ge(ve))},ve=()=>{for(const e of he)e();he.length=0,fe=!1},ye=/^(spellcheck|draggable|form|list|type)$/,we=({el:e,get:t,effect:n,arg:i,modifiers:s})=>{let o;"class"===i&&(e._class=e.className),n((()=>{let n=t();if(i)(null==s?void 0:s.camel)&&(i=I(i)),be(e,i,n,o);else{for(const t in n)be(e,t,n[t],o&&o[t]);for(const t in o)(!n||!(t in n))&&be(e,t,null)}o=n}))},be=(e,t,i,s)=>{if("class"===t)e.setAttribute("class",r(e._class?[e._class,i]:i)||"");else if("style"===t){i=n(i);const{style:t}=e;if(i)if(g(i))i!==s&&(t.cssText=i);else{for(const e in i)Pe(t,e,i[e]);if(s&&!g(s))for(const e in s)null==i[e]&&Pe(t,e,"")}else e.removeAttribute("style")}else e instanceof SVGElement||!(t in e)||ye.test(t)?"true-value"===t?e._trueValue=i:"false-value"===t?e._falseValue=i:null!=i?e.setAttribute(t,i):e.removeAttribute(t):(e[t]=i,"value"===t&&(e._value=i))},Se=/\s*!important$/,Pe=(e,t,n)=>{f(n)?n.forEach((n=>Pe(e,t,n))):t.startsWith("--")?e.setProperty(t,n):Se.test(n)?e.setProperty(k(t),n.replace(Se,""),"important"):e[t]=n},xe=(e,t)=>{const n=e.getAttribute(t);return null!=n&&e.removeAttribute(t),n},Ie=(e,t,n,i)=>{e.addEventListener(t,n,i)},_e=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ke=["ctrl","shift","alt","meta"],Le={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ke.some((n=>e[`${n}Key`]&&!t[n]))},Oe=({el:e,get:t,exp:n,arg:i,modifiers:s})=>{if(!i)return;let o=_e.test(n)?t(`(e => ${n}(e))`):t(`($event => { ${n} })`);if("vue:mounted"!==i){if("vue:unmounted"===i)return()=>o();if(s){"click"===i&&(s.right&&(i="contextmenu"),s.middle&&(i="mouseup"));const e=o;o=t=>{if(!("key"in t)||k(t.key)in s){for(const e in s){const n=Le[e];if(n&&n(t,s))return}return e(t)}}}Ie(e,i,o,s)}else ge(o)},Ce=({el:e,get:t,effect:n})=>{n((()=>{e.textContent=Me(t())}))},Me=e=>null==e?"":v(e)?JSON.stringify(e,null,2):String(e),Te=e=>"_value"in e?e._value:e.value,Ee=(e,t)=>{const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t},$e=e=>{e.target.composing=!0},je=e=>{const t=e.target;t.composing&&(t.composing=!1,Ae(t,"input"))},Ae=(e,t)=>{const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)},Ne=Object.create(null),Re=(e,t,n)=>We(e,`return(${t})`,n),We=(e,t,n)=>{const i=Ne[t]||(Ne[t]=Be(t));try{return i(e,n)}catch(e){console.error(e)}},Be=e=>{try{return new Function("$data","$el",`with($data){${e}}`)}catch(t){return console.error(`${t.message} in expression: ${e}`),()=>{}}},He={bind:we,on:Oe,show:({el:e,get:t,effect:n})=>{const i=e.style.display;n((()=>{e.style.display=t()?i:"none"}))},text:Ce,html:({el:e,get:t,effect:n})=>{n((()=>{e.innerHTML=t()}))},model:({el:e,exp:t,get:n,effect:i,modifiers:s})=>{const o=e.type,r=n(`(val) => { ${t} = val }`),{trim:a,number:u="number"===o}=s||{};if("SELECT"===e.tagName){const t=e;Ie(e,"change",(()=>{const e=Array.prototype.filter.call(t.options,(e=>e.selected)).map((e=>u?L(Te(e)):Te(e)));r(t.multiple?e:e[0])})),i((()=>{const e=n(),i=t.multiple;for(let n=0,s=t.options.length;n<s;n++){const s=t.options[n],o=Te(s);if(i)f(e)?s.selected=l(e,o)>-1:s.selected=e.has(o);else if(c(Te(s),e))return void(t.selectedIndex!==n&&(t.selectedIndex=n))}!i&&-1!==t.selectedIndex&&(t.selectedIndex=-1)}))}else if("checkbox"===o){let t;Ie(e,"change",(()=>{const t=n(),i=e.checked;if(f(t)){const n=Te(e),s=l(t,n),o=-1!==s;if(i&&!o)r(t.concat(n));else if(!i&&o){const e=[...t];e.splice(s,1),r(e)}}else r(Ee(e,i))})),i((()=>{const i=n();f(i)?e.checked=l(i,Te(e))>-1:i!==t&&(e.checked=c(i,Ee(e,!0))),t=i}))}else if("radio"===o){let t;Ie(e,"change",(()=>{r(Te(e))})),i((()=>{const i=n();i!==t&&(e.checked=c(i,Te(e)))}))}else{const t=e=>a?e.trim():u?L(e):e;Ie(e,"compositionstart",$e),Ie(e,"compositionend",je),Ie(e,(null==s?void 0:s.lazy)?"change":"input",(()=>{e.composing||r(t(e.value))})),a&&Ie(e,"change",(()=>{e.value=e.value.trim()})),i((()=>{if(e.composing)return;const i=e.value,s=n();document.activeElement===e&&t(i)===s||i!==s&&(e.value=s)}))}},effect:({el:e,ctx:t,exp:n,effect:i})=>{ge((()=>i((()=>We(t.scope,n,e)))))}},Ve=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,De=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ue=/^\(|\)$/g,ze=/^[{[]\s*((?:[\w_$]+\s*,?\s*)+)[\]}]$/,Fe=(e,t,n)=>{const i=t.match(Ve);if(!i)return;const s=e.nextSibling,o=e.parentElement,r=new Text("");o.insertBefore(r,e),o.removeChild(e);const c=i[2].trim();let l,a,u,d,h=i[1].trim().replace(Ue,"").trim(),p=!1,g="key",m=e.getAttribute(g)||e.getAttribute(g=":key")||e.getAttribute(g="v-bind:key");m&&(e.removeAttribute(g),"key"===g&&(m=JSON.stringify(m))),(d=h.match(De))&&(h=h.replace(De,"").trim(),a=d[1].trim(),d[2]&&(u=d[2].trim())),(d=h.match(ze))&&(l=d[1].split(",").map((e=>e.trim())),p="["===h[0]);let y,w,b,S=!1;const P=(e,t,i,s)=>{const o={};l?l.forEach(((e,n)=>o[e]=t[p?n:e])):o[h]=t,s?(a&&(o[a]=s),u&&(o[u]=i)):a&&(o[a]=i);const r=nt(n,o),c=m?Re(r.scope,m):i;return e.set(c,i),r.key=c,r},x=(t,n)=>{const i=new st(e,t);return i.key=t.key,i.insert(o,n),i};return n.effect((()=>{const e=Re(n.scope,c),t=b;if([w,b]=(e=>{const t=new Map,n=[];if(f(e))for(let i=0;i<e.length;i++)n.push(P(t,e[i],i));else if("number"==typeof e)for(let i=0;i<e;i++)n.push(P(t,i+1,i));else if(v(e)){let i=0;for(const s in e)n.push(P(t,e[s],i++,s))}return[n,t]})(e),S){for(let e=0;e<y.length;e++)b.has(y[e].key)||y[e].remove();const e=[];let n,i,s=w.length;for(;s--;){const c=w[s],l=t.get(c.key);let a;null==l?a=x(c,n?n.el:r):(a=y[l],Object.assign(a.ctx.scope,c.scope),l!==s&&(y[l+1]!==n||i===n)&&(i=a,a.insert(o,n?n.el:r))),e.unshift(n=a)}y=e}else y=w.map((e=>x(e,r))),S=!0})),s},qe=({el:e,ctx:{scope:{$refs:t}},get:n,effect:i})=>{let s;return i((()=>{const i=n();t[i]=e,s&&i!==s&&delete t[s],s=i})),()=>{s&&delete t[s]}},Ke=/^(?:v-|:|@)/,Xe=/\.([\w-]+)/g;let Ze=!1;const Je=(e,t)=>{const n=e.nodeType;if(1===n){const n=e;if(n.hasAttribute("v-pre"))return;let i;if(xe(n,"v-cloak"),i=xe(n,"v-if"))return((e,t,n)=>{const i=e.parentElement,s=new Comment("v-if");i.insertBefore(s,e);const o=[{exp:t,el:e}];let r,c;for(;(r=e.nextElementSibling)&&(c=null,""===xe(r,"v-else")||(c=xe(r,"v-else-if")));)i.removeChild(r),o.push({exp:c,el:r});const l=e.nextSibling;i.removeChild(e);let a,u=-1;const d=()=>{a&&(i.insertBefore(s,a.el),a.remove(),a=void 0)};return n.effect((()=>{for(let e=0;e<o.length;e++){const{exp:t,el:r}=o[e];if(!t||Re(n.scope,t))return void(e!==u&&(d(),a=new st(r,n),a.insert(i,s),i.removeChild(s),u=e))}u=-1,d()})),l})(n,i,t);if(i=xe(n,"v-for"))return Fe(n,i,t);if((i=xe(n,"v-scope"))||""===i){const e=i?Re(t.scope,i):{};t=nt(t,e),e.$template&&et(n,e.$template)}const s=null!=xe(n,"v-once");s&&(Ze=!0),(i=xe(n,"ref"))&&Ge(n,qe,`"${i}"`,t),Qe(n,t);const o=[];for(const{name:e,value:i}of[...n.attributes])Ke.test(e)&&"v-cloak"!==e&&("v-model"===e?o.unshift([e,i]):"@"===e[0]||/^v-on\b/.test(e)?o.push([e,i]):Ye(n,e,i,t));for(const[e,i]of o)Ye(n,e,i,t);s&&(Ze=!1)}else if(3===n){const n=e.data;if(n.includes(t.delimiters[0])){let i,s=[],o=0;for(;i=t.delimitersRE.exec(n);){const e=n.slice(o,i.index);e&&s.push(JSON.stringify(e)),s.push(`$s(${i[1]})`),o=i.index+i[0].length}o<n.length&&s.push(JSON.stringify(n.slice(o))),Ge(e,Ce,s.join("+"),t)}}else 11===n&&Qe(e,t)},Qe=(e,t)=>{let n=e.firstChild;for(;n;)n=Je(n,t)||n.nextSibling},Ye=(e,t,n,i)=>{let s,o,r;if(":"===(t=t.replace(Xe,((e,t)=>((r||(r={}))[t]=!0,""))))[0])s=we,o=t.slice(1);else if("@"===t[0])s=Oe,o=t.slice(1);else{const e=t.indexOf(":"),n=e>0?t.slice(2,e):t.slice(2);s=He[n]||i.dirs[n],o=e>0?t.slice(e+1):void 0}s&&(s===we&&"ref"===o&&(s=qe),Ge(e,s,n,i,o,r),e.removeAttribute(t))},Ge=(e,t,n,i,s,o)=>{const r=t({el:e,get:(t=n)=>Re(i.scope,t,e),effect:i.effect,ctx:i,exp:n,arg:s,modifiers:o});r&&i.cleanups.push(r)},et=(e,t)=>{if("#"!==t[0])e.innerHTML=t;else{const n=document.querySelector(t);e.appendChild(n.content.cloneNode(!0))}},tt=e=>{const t={delimiters:["{{","}}"],delimitersRE:/\{\{([^]+?)\}\}/g,...e,scope:e?e.scope:le({}),dirs:e?e.dirs:{},effects:[],blocks:[],cleanups:[],effect:e=>{if(Ze)return me(e),e;const n=function(e,t){e.effect&&(e=e.effect.fn);const n=new V(e);t&&(a(n,t),t.scope&&C(n,t.scope)),(!t||!t.lazy)&&n.run();const i=n.run.bind(n);return i.effect=n,i}(e,{scheduler:()=>me(n)});return t.effects.push(n),n}};return t},nt=(e,t={})=>{const n=e.scope,i=Object.create(n);Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)),i.$refs=Object.create(n.$refs);const s=le(new Proxy(i,{set:(e,t,i,o)=>o!==s||e.hasOwnProperty(t)?Reflect.set(e,t,i,o):Reflect.set(n,t,i)}));return it(s),{...e,scope:s}},it=e=>{for(const t of Object.keys(e))"function"==typeof e[t]&&(e[t]=e[t].bind(e))};class st{constructor(e,n,i=!1){t(this,"template"),t(this,"ctx"),t(this,"key"),t(this,"parentCtx"),t(this,"isFragment"),t(this,"start"),t(this,"end"),this.isFragment=e instanceof HTMLTemplateElement,i?this.template=e:this.isFragment?this.template=e.content.cloneNode(!0):this.template=e.cloneNode(!0),i?this.ctx=n:(this.parentCtx=n,n.blocks.push(this),this.ctx=tt(n)),Je(this.template,this.ctx)}get el(){return this.start||this.template}insert(e,t=null){if(this.isFragment)if(this.start){let n,i=this.start;for(;i&&(n=i.nextSibling,e.insertBefore(i,t),i!==this.end);)i=n}else this.start=new Text(""),this.end=new Text(""),e.insertBefore(this.end,t),e.insertBefore(this.start,this.end),e.insertBefore(this.template,this.end);else e.insertBefore(this.template,t)}remove(){if(this.parentCtx&&((e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)})(this.parentCtx.blocks,this),this.start){const e=this.start.parentNode;let t,n=this.start;for(;n&&(t=n.nextSibling,e.removeChild(n),n!==this.end);)n=t}else this.template.parentNode.removeChild(this.template);this.teardown()}teardown(){this.ctx.blocks.forEach((e=>{e.teardown()})),this.ctx.effects.forEach(U),this.ctx.cleanups.forEach((e=>e()))}}const ot=e=>e.replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&"),rt=e=>{const t=tt();if(e&&(t.scope=le(e),it(t.scope),e.$delimiters)){const[n,i]=t.delimiters=e.$delimiters;t.delimitersRE=new RegExp(ot(n)+"([^]+?)"+ot(i),"g")}let n;return t.scope.$s=Me,t.scope.$nextTick=ge,t.scope.$refs=Object.create(null),{directive(e,n){return n?(t.dirs[e]=n,this):t.dirs[e]},mount(e){if("string"==typeof e&&!(e=document.querySelector(e)))return;let i;return i=(e=e||document.documentElement).hasAttribute("v-scope")?[e]:[...e.querySelectorAll("[v-scope]")].filter((e=>!e.matches("[v-scope] [v-scope]"))),i.length||(i=[e]),n=i.map((e=>new st(e,t,!0))),this},unmount(){n.forEach((e=>e.teardown()))}}},ct=document.currentScript;function lt(e){throw new Error("[PlayerCore error]: "+e)}function at(e){console.warn("[PlayerCore warn]: "+e)}ct&&ct.hasAttribute("init")&&rt().mount();class ut{constructor(e){Object.defineProperty(this,"e",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"SongIdList",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"CurrentSongId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"IsPlaying",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"SongIdMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"PlayMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"IsMute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultIconPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{defaultIconPath:t}=e||{};this.e=document.createElement("audio"),this.e.volume=.1,this.SongIdList=[],this.SongIdMap={},this.PlayMode=1,this.CurrentSongId="?",this.IsPlaying=!1,this.IsMute=!1,this.defaultIconPath=t||undefined}_AppendSongByIndex(e,t){this.SongIdList.splice(t,0,e.id),this.SongIdMap[e.id.toString()]=e}_AppendCheck(e){e?(-1!==this.SongIdList.indexOf(e.id)||this.SongIdMap[e.id])&&lt("The song which append to queue has repeat id."):lt("AppendSong function had been call but without song info.")}QuerySongInfo(e){return this.SongIdMap[e.toString()]}RemoveSong(e){!function(e){void 0===e&&lt("Expect other value but got undefined")}(e);const t=this.QuerySongInfo(e);if(t){if(this.CurrentSongId===t.id)if(1===this.SongIdList.length)this.e.pause(),this.e.src="",this.CurrentSongId="?";else{let e=this.SongIdList.indexOf(t.id);e===this.SongIdList.length-1?e=0:e++;const n=this.SongIdMap[this.SongIdList[e]];n&&(this.CurrentSongId=n.id,this.e.src=n.src)}delete this.SongIdMap[t.id],this.SongIdList.splice(this.SongIdList.indexOf(t.id),1)}}AppendSong(e,t){this._AppendCheck(e);let n=this.SongIdList.length;if("string"==typeof t){const e=this.QuerySongInfo(t);if(e){const t=this.SongIdList.indexOf(e.id);t<n&&t>=0&&(n=t+1)}}this._AppendSongByIndex(e,n)}AppendSongOnHead(e){this._AppendCheck(e),this._AppendSongByIndex(e,-1)}AppendSongOnTail(e){this._AppendCheck(e),this._AppendSongByIndex(e,this.SongIdList.length)}AppendSongList(e){e.forEach((e=>{this.AppendSongOnTail(e)}))}UpdateSongPosition(e){e.length!=this.SongIdList.length&&lt("Update Song Position size is not equal with old list size");const t=new Set(this.SongIdList.map((e=>e)));if(e.forEach((e=>{t.delete(e)})),t.size){const e=[];t.forEach((t=>{e.push(t)})),lt("New list has unknown id: "+e.toString())}this.SongIdList=e}PlaySelectSong(e){const t=this.SongIdMap[e];-1!==this.SongIdList.indexOf(e)?(t&&(this.e.src=t.src,this.CurrentSongId=e),this.Play()):at(`Song's id: '${e}' is not in the id list or it's not corrent number.`)}NextSong(){const e=this.SongIdList.indexOf(this.CurrentSongId);let t=0;e!==this.SongIdList.length-1&&(t=e+1),this.PlaySelectSong(this.SongIdList[t])}PrevSong(){const e=this.SongIdList.indexOf(this.CurrentSongId);let t=this.SongIdList.length-1;0!==e&&(t=e-1),this.PlaySelectSong(this.SongIdList[t])}SwitchMute(){this.IsMute=!this.e.muted,this.e.muted=this.IsMute}SwitchPlayMode(e){let t=1;"object"==typeof e&&(t=parseInt(e.currentTarget.getAttribute("data-mode-id"))),4===t?t=1:t++,this.PlayMode=t}async Play(){0===this.e.src.length&&this.PlaySelectSong(this.SongIdList[0]),await this.e.play(),this.IsPlaying=!0}Pause(){this.e.pause(),this.IsPlaying=!1}ChangeVolume(e){this.e.volume=e<0&&e<=1?0:e>1?1:e}ChangeCurrentSongTime(e){"number"==typeof e?this.e.currentTime=e:at("Type of time expect number but got: "+typeof e)}}function dt(e){e||(e=0);let t=parseInt(e/60+""),n=parseInt(e%60+"");return t<10&&(t="0"+t),n<10&&(n="0"+n),`${t}:${n}`}var ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ht(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},gt="object"==typeof ft&&ft&&ft.Object===Object&&ft,mt="object"==typeof self&&self&&self.Object===Object&&self,vt=gt||mt||Function("return this")(),yt=vt,wt=function(){return yt.Date.now()},bt=/\s/;var St=function(e){for(var t=e.length;t--&&bt.test(e.charAt(t)););return t},Pt=/^\s+/;var xt=function(e){return e?e.slice(0,St(e)+1).replace(Pt,""):e},It=vt.Symbol,_t=It,kt=Object.prototype,Lt=kt.hasOwnProperty,Ot=kt.toString,Ct=_t?_t.toStringTag:void 0;var Mt=function(e){var t=Lt.call(e,Ct),n=e[Ct];try{e[Ct]=void 0;var i=!0}catch(e){}var s=Ot.call(e);return i&&(t?e[Ct]=n:delete e[Ct]),s},Tt=Object.prototype.toString;var Et=Mt,$t=function(e){return Tt.call(e)},jt=It?It.toStringTag:void 0;var At=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jt&&jt in Object(e)?Et(e):$t(e)},Nt=function(e){return null!=e&&"object"==typeof e};var Rt=xt,Wt=pt,Bt=function(e){return"symbol"==typeof e||Nt(e)&&"[object Symbol]"==At(e)},Ht=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Dt=/^0o[0-7]+$/i,Ut=parseInt;var zt=pt,Ft=wt,qt=function(e){if("number"==typeof e)return e;if(Bt(e))return NaN;if(Wt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Wt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Rt(e);var n=Vt.test(e);return n||Dt.test(e)?Ut(e.slice(2),n?2:8):Ht.test(e)?NaN:+e},Kt=Math.max,Xt=Math.min;var Zt=function(e,t,n){var i,s,o,r,c,l,a=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,o=s;return i=s=void 0,a=t,r=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-a>=o}function g(){var e=Ft();if(p(e))return m(e);c=setTimeout(g,function(e){var n=t-(e-l);return d?Xt(n,o-(e-a)):n}(e))}function m(e){return c=void 0,f&&i?h(e):(i=s=void 0,r)}function v(){var e=Ft(),n=p(e);if(i=arguments,s=this,l=e,n){if(void 0===c)return function(e){return a=e,c=setTimeout(g,t),u?h(e):r}(l);if(d)return clearTimeout(c),c=setTimeout(g,t),h(l)}return void 0===c&&(c=setTimeout(g,t)),r}return t=qt(t)||0,zt(n)&&(u=!!n.leading,o=(d="maxWait"in n)?Kt(qt(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==c&&clearTimeout(c),a=0,i=l=s=c=void 0},v.flush=function(){return void 0===c?r:m(Ft())},v},Jt=pt;var Qt=ht((function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Jt(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Zt(e,t,{leading:i,maxWait:t,trailing:s})}));const Yt=e=>{const t=e.exp?document.querySelector(e.exp):e.el;if(!t)return;let n=0,i=0;const s=t.clientWidth;const o=Qt((e=>{let o=e.clientX-n,r=e.clientY-i;const c=window.innerWidth,l=window.innerHeight;o<=-s?o=-s:o+t.offsetWidth>=c+s&&(o=c+s-t.offsetWidth),r<=0?r=0:r+t.offsetHeight>=l&&(r=l-t.offsetHeight),function(e,n){t.style.setProperty("left",e+"px"),t.style.setProperty("top",n+"px")}(o,r)}),16);return e.el.addEventListener("mousedown",(e=>{n=e.clientX-t.offsetLeft,i=e.clientY-t.offsetTop,window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)}))})),()=>{}},Gt=/left|right/,en=e=>{const t=e.el,n=()=>{t.offsetLeft>window.innerWidth/2?(t.setAttribute("class",`${t.getAttribute("class")?.replace(Gt,"")} right`),t.style.setProperty("left",window.innerWidth-t.clientWidth+"px")):(t.setAttribute("class",`${t.getAttribute("class")?.replace(Gt,"")} left`),t.style.setProperty("left","0px"))};return window.addEventListener("mouseup",(()=>setTimeout((()=>{n()}),20))),window.addEventListener("resize",n),()=>{}};let tn;const nn="CoreWrapper";let sn;class on{constructor(e){Object.defineProperty(this,"PlayerCore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"e",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{rootElement:t,ad:n=!0,initRight:i=!1,defaultIconPath:s=""}=e||{};this.PlayerCore=PetiteVue.reactive(new ut(e)),this.e=this.PlayerCore.e,tn=this.PlayerCore,n&&console.log("Vue-Mini-Player powered by: https://github.com/QingXia-Ela/vue-mini-player");const o=document.createElement("div");o.setAttribute("id","CorePlayer"),o.innerHTML='<div v-scope id="CoreWrapper" v-wrapper-adsorb @mouseup="wrapperMouseUp" @mousedown="clearHiddenTimer"\n  @vue:mounted="onMounted"\n  :class="`player_module ${dragging ? \'dragging\': \'\'} ${onRight ? \'right\' : \'left\'} ${hidden && !hover ? \'hidden\' : \'\'}`">\n  <div class="left_arrow" @click="clickShow">\n    <i class="iconfont icon-24gl-arrowLeft3"></i>\n  </div>\n  <div class="operate_box" @mousedown="wrapperMouseDown" @mouseenter="wrapperMouseEnter"\n    @mouseleave="wrapperMouseLeave">\n    <div class="left_img"\n      :style="`background-image: url(${currentSongInfo.img ? currentSongInfo.img  : defaultIconPath});`">\n    </div>\n    <div class="right_operate">\n      <div class="song_name" v-draggable="#CoreWrapper">\n        <span class="name">{{ currentSongInfo.name }}</span>\n        <span class="time">{{ mediaCurrentTime }}/{{ mediaDuration }}</span>\n      </div>\n      <div class="operation_button">\n        <i class="iconfont icon-24gl-volumeZero" v-if="store.IsMute" @click="store.SwitchMute"></i>\n        <i class="iconfont icon-24gl-volumeMiddle" v-else @click="store.SwitchMute"></i>\n        <i class="iconfont icon-24gl-previousCircle" @click="store.PrevSong"></i>\n        <i class="iconfont icon-24gl-pauseCircle" v-if="store.IsPlaying" @click="CorePause"></i>\n        <i class="iconfont icon-24gl-playCircle" v-else @click="CorePlay"></i>\n        <i class="iconfont icon-24gl-nextCircle" @click="store.NextSong"></i>\n        <i class="iconfont icon-24gl-arrowRight" v-if="store.PlayMode === 1" data-mode-id="1"\n          @click="store.SwitchPlayMode"></i>\n        <i class="iconfont icon-24gl-repeat2" v-else-if="store.PlayMode === 2" data-mode-id="2"\n          @click="store.SwitchPlayMode"></i>\n        <i class="iconfont icon-24gl-repeatOnce2" v-else-if="store.PlayMode === 3" data-mode-id="3"\n          @click="store.SwitchPlayMode"></i>\n        <i class="iconfont icon-24gl-shuffle" v-else @click="store.SwitchPlayMode" data-mode-id="4"></i>\n      </div>\n      <div class="slider" @click.stop.prevent>\n        <div class="track" @mousedown="jumpTime">\n          <div class="active_track" :style="`width: ${showupPrecentage}%;`"></div>\n        </div>\n        <div class="thumb" :style="`left: ${showupPrecentage}%;`"></div>\n      </div>\n    </div>\n  </div>\n  <div class="right_arrow" @click="clickShow">\n    <i class="iconfont icon-24gl-arrowRight3"></i>\n  </div>\n  <div class="show_list_button" @click="switchListShow"></div>\n  <div :class="`list_box player_module ${showList ? \'show\' : \'\'}`" @mouseenter="wrapperMouseEnter"\n    @mouseleave="wrapperMouseLeave">\n    <div class="empty_tips" v-if="store.SongIdList.length === 0">No Data :(</div>\n    <div :class="`song_item ${i.id === store.CurrentSongId ? \'current\' : \'\'}`" v-for="(i, index) in songInfoList"\n      @dblclick="CorePlaySelectSong(i.id)">\n      <div class="title">{{ i.name }}</div>\n      <div class="function_button">\n        <i class="iconfont icon-24gl-playCircle" @click="store.PlaySelectSong(i.id)"></i>\n        <i class="iconfont icon-24gl-trash2" @click="store.RemoveSong(i.id)"></i>\n      </div>\n    </div>\n  </div>\n</div>',o.querySelector("#CoreWrapper")?.setAttribute("style",i?"right: 0;":"left: 0;"),t?"string"==typeof t?document.querySelector(t)?.appendChild(o):t.appendChild(o):document.body.appendChild(o);const r=PetiteVue.createApp({store:tn,dragging:!1,onRight:i,hidden:!0,hover:!1,currentTime:0,duration:0,showupPrecentage:0,showList:!1,sliding:!1,slidingTime:0,defaultIconPath:s,onMounted(){const{e:e}=tn;e.addEventListener("timeupdate",(()=>{this.sliding||(this.CurrentTime=e.currentTime,this._UpdateShowPrecentage(this.CurrentTime/this.duration))})),e.addEventListener("loadedmetadata",(()=>{this.sliding||(this.duration=e.duration)})),this.store.e.addEventListener("ended",(()=>{const{SongIdList:e,CurrentSongId:t,PlayMode:n}=this.store,i=e.indexOf(t);switch(n){case 1:i!==e.length&&tn.NextSong();break;case 2:default:tn.NextSong();break;case 3:tn.Play();break;case 4:let n=parseInt(e.length*Math.random()+"");for(;n===t;)n=parseInt(e.length*Math.random()+"");tn.PlaySelectSong(e[n])}}))},get currentPrecentage(){return(100*this.currentTime).toFixed(2)},get currentSongInfo(){const e=tn.SongIdMap[tn.CurrentSongId];return e||{name:"_(:з」∠)_"}},get mediaDuration(){return dt(this.duration)},get mediaCurrentTime(){return this.sliding?dt(this.slidingTime):dt(this.CurrentTime)},get songInfoList(){const e=[];for(const t of tn.SongIdList)e.push(tn.SongIdMap[t]);return e},clearHiddenTimer(){clearTimeout(sn)},startTimer(){sn&&this.clearHiddenTimer(),sn=setTimeout((()=>{this.hidden=!0,this.hover=!1,this.showList=!1,this.clearHiddenTimer()}),8e3)},wrapperMouseDown(){this.dragging=!0,this.hidden=!1},wrapperMouseUp(){this.dragging=!1;const e=document.getElementById(nn);e&&(e.offsetLeft>window.innerWidth/2?this.onRight=!0:this.onRight=!1)},wrapperMouseEnter(){this.hover=!0,this.clearHiddenTimer()},wrapperMouseLeave(){this.hover=!1,this.startTimer()},clickShow(e){clearTimeout(sn),this.hidden=!this.hidden,this.hidden&&(this.showList=!1),e.preventDefault(),this.startTimer()},_UpdateShowPrecentage(e){e>1?e=1:e<0&&(e=0),this.showupPrecentage=(100*e).toFixed(2),this.slidingTime=this.duration*e},jumpTime(e){if(isNaN(this.store.e.duration))return;const t=e.currentTarget;let n=e.offsetX/t.clientWidth;this._UpdateShowPrecentage(n),this.sliding=!0,n*=t.clientWidth;const i=e=>{const i=document.getElementById(nn);n=e.clientX-i.offsetLeft-t.clientWidth,n+=this.onRight?25:85,this._UpdateShowPrecentage(n/t.clientWidth)},s=()=>{this.store.e.currentTime=n/t.clientWidth*this.duration,this.sliding=!1,window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)},switchListShow(){this.showList=!this.showList},async CorePlay(){try{await tn.Play()}catch(e){console.log(e)}},CorePause(){tn.Pause()},CorePlaySelectSong(e){tn.PlaySelectSong(e)}});r.directive("draggable",Yt),r.directive("wrapper-adsorb",en),r.mount(o)}}window.PetiteVue={createApp:rt,reactive:le};export{on as default};
